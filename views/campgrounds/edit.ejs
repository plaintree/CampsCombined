<% layout('layout/boilerplate') %>
<div class="row">
	<h2 class="text-center">Edit campground</h2>
	<section class="col-md-6 offset-md-3">
		<form
			method="POST"
			action="/campgrounds/<%= idCampground._id %>?_method=PATCH"
			enctype="multipart/form-data"
			class="need-validation"
			novalidate
		>
			<div class="mb-3">
				<label for="name" class="form-label">Campground name</label>
				<input
					type="text"
					class="form-control"
					name="campground[title]"
					id="title"
					value="<%= idCampground.title %>"
					required
				/>
				<div class="invalid-feedback">Please enter a name.</div>
			</div>
			<div class="mb-3">
				<label for="id" class="form-label">Campground location</label>
				<input
					type="text"
					class="form-control"
					name="campground[location]"
					id="loc"
					value="<%= idCampground.location %>"
					required
				/>
				<div class="invalid-feedback">Please choose a location.</div>
			</div>
			<div class="mb-3">
				<label for="img" class="form-label">Upload Images</label>
				<input
					type="file"
					class="form-control"
					name="image"
					id="img"
					multiple
				/>
				<div class="invalid-feedback">URL must start with "http://"</div>
			</div>
			<div class="mb-3">
				<label for="price" class="form-label">Price</label>
				<div class="input-group">
					<span class="input-group-text">GBP</span>
					<input
						type="number"
						class="form-control"
						name="campground[price]"
						id="price"
						value="<%=idCampground.price%>"
						required
					/>
					<div class="invalid-feedback">Please enter a price.</div>
				</div>
			</div>
			<div class="mb-3">
				<label for="des" class="form-label">Description</label>
				<textarea
					type="text"
					class="form-control"
					name="campground[description]"
					id="des"
					required
				>
<%=idCampground.description %></textarea
				>
			</div>
			<div class="mb-3">
				<% idCampground.images.forEach((img, i) => { %>
				<img src="<%= img.thumbnail %>" class="img-thumbnail" alt="" />
				<div class="form-check form-check-inline">
					<input
						class="form-check-input"
						type="checkbox"
						id="image-<%=i%>"
						name="deleteImages[]"
						value="<%= img.filename %>"
					/>
					<label class="form-check-label" for="image-<%=i%>">Delete?</label>
				</div>
				<% }) %>
			</div>
			<div class="mb-3">
				<button class="btn btn-primary">Save changes</button>
				<a
					href="/campgrounds/<%= idCampground._id %> "
					class="btn btn-secondary"
					>Back</a
				>
			</div>
		</form>
	</section>
</div>
